%section.rd
  = f.fields_for :containers, include_id: false do |c|
    - if c.object.class.name == 'Slider'
      = render 'redditor/admin/base/slider_fields', f: c
    - else
      = render 'redditor/admin/base/container_fields', f: c

%footer{ style: 'margin: 10px 0;' }
  .btn-group.dropdown
    = link_to_add_association 'Add Text', f, :containers, render_options: { locals: { put_in: 'text' } }, class: 'btn btn-default', "data-association-insertion-node" => ".rd", "data-association-insertion-method" => "append", partial: 'redditor/admin/base/container_fields'
    %span.btn.btn-default.dropdown-toggle{ "data-toggle" => "dropdown" }
      %span.caret
      %span.sr-only Toggle Dropdown
    %ul.dropdown-menu{ role: 'menu' }
      %li= link_to_add_association 'Text - Text', f, :containers, render_options: { locals: { put_in: 'text-text' } }, "data-association-insertion-node" => ".rd", "data-association-insertion-method" => "append", partial: 'redditor/admin/base/container_fields'
      %li= link_to_add_association 'Text - Video', f, :containers, render_options: { locals: { put_in: 'text-video' } }, "data-association-insertion-node" => ".rd", "data-association-insertion-method" => "append", partial: 'redditor/admin/base/container_fields'
      %li= link_to_add_association 'Text - Image', f, :containers, render_options: { locals: { put_in: 'text-image' } }, "data-association-insertion-node" => ".rd", "data-association-insertion-method" => "append", partial: 'redditor/admin/base/container_fields'

  .btn-group.dropdown
    = link_to_add_association 'Add Video', f, :containers, render_options: { locals: { put_in: 'video' } }, class: 'btn btn-default', "data-association-insertion-node" => ".rd", "data-association-insertion-method" => "append", partial: 'redditor/admin/base/container_fields'
    %span.btn.btn-default.dropdown-toggle{ "data-toggle" => "dropdown" }
      %span.caret
      %span.sr-only Toggle Dropdown
    %ul.dropdown-menu{ role: 'menu' }
      %li= link_to_add_association 'Video - Video', f, :containers, render_options: { locals: { put_in: 'video-video' } }, "data-association-insertion-node" => ".rd", "data-association-insertion-method" => "append", partial: 'redditor/admin/base/container_fields'
      %li= link_to_add_association 'Video - Text', f, :containers, render_options: { locals: { put_in: 'video-text' } }, "data-association-insertion-node" => ".rd", "data-association-insertion-method" => "append", partial: 'redditor/admin/base/container_fields'
      %li= link_to_add_association 'Video - Image', f, :containers, render_options: { locals: { put_in: 'video-image' } }, "data-association-insertion-node" => ".rd", "data-association-insertion-method" => "append", partial: 'redditor/admin/base/container_fields'

  .btn-group.dropdown
    = link_to_add_association 'Add Image', f, :containers, render_options: { locals: { put_in: 'image' } }, class: 'btn btn-default', "data-association-insertion-node" => ".rd", "data-association-insertion-method" => "append", partial: 'redditor/admin/base/container_fields'
    %span.btn.btn-default.dropdown-toggle{ "data-toggle" => "dropdown" }
      %span.caret
      %span.sr-only Toggle Dropdown
    %ul.dropdown-menu{ role: 'menu' }
      %li= link_to_add_association 'Image - Image', f, :containers, render_options: { locals: { put_in: 'image-image' } }, "data-association-insertion-node" => ".rd", "data-association-insertion-method" => "append", partial: 'redditor/admin/base/container_fields'
      %li= link_to_add_association 'Image - Text', f, :containers, render_options: { locals: { put_in: 'image-text' } }, "data-association-insertion-node" => ".rd", "data-association-insertion-method" => "append", partial: 'redditor/admin/base/container_fields'
      %li= link_to_add_association 'Image - Video', f, :containers, render_options: { locals: { put_in: 'image-video' } }, "data-association-insertion-node" => ".rd", "data-association-insertion-method" => "append", partial: 'redditor/admin/base/container_fields'

  = link_to_add_association 'Add Slider', f, :sliders, class: 'btn btn-default', "data-association-insertion-node" => ".rd", "data-association-insertion-method" => "append", partial: 'redditor/admin/base/container_fields'


